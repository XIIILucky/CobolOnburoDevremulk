; CASEMaker AcuBench Program Structure File, Version 9.2
; WARNING: DO NOT MODIFY THIS FILE!

[PROGRAM_CONTENT]
QUIT_CONFIRM=0
MAIN_SCREEN_NAME=Screen1

{{@DESCRIPTION:

@}}

[WORKING_STORAGE]
m_nType=1
m_strName=Working Storage
m_bBlockRecords=1
m_bRecordFixed=1
m_bStandard=1
{{@FD_m_strDescriptionWK

@}}
[FDITEM0_WK]
m_nType=10
m_strName=Small-Font
m_nUsage=37
m_nItemLevel=77
m_nSync=-1
m_bFixed=1
{{@DataItem_m_strDescriptionFDITEM0_WK

@}}
[FDITEM1_WK]
m_nType=10
m_strName=Screen1-Handle
m_nUsage=24
m_nItemLevel=77
m_nSync=-1
m_bFixed=1
{{@DataItem_m_strDescriptionFDITEM1_WK

@}}
[FDITEM2_WK]
m_nType=10
m_strName=Screen1-St-1-Handle
m_nUsage=51
m_nItemLevel=77
m_nSync=-1
m_bFixed=1
{{@DataItem_m_strDescriptionFDITEM2_WK

@}}
[FDITEM3_WK]
m_strName=Form1-Handle
m_nUsage=24
m_nItemLevel=77
m_nSync=-1
m_bFixed=1
{{@DataItem_m_strDescriptionFDITEM3_WK

@}}
[FDITEM4_WK]
m_strName=Form1-St-1-Handle
m_nUsage=51
m_nItemLevel=77
m_nSync=-1
m_bFixed=1
{{@DataItem_m_strDescriptionFDITEM4_WK

@}}
[FDITEM5_WK]
m_strName=Fixed-Font
m_nUsage=39
m_nItemLevel=77
m_nSync=-1
m_bFixed=1
{{@DataItem_m_strDescriptionFDITEM5_WK

@}}
[FDITEM6_WK]
m_strName=ilk-tar
m_nItemLevel=1
m_nSync=-1
m_bFixed=1
{{@DataItem_m_strDescriptionFDITEM6_WK

@}}
[FDITEM7_WK]
m_strName=ilk-yil
m_strRawPic=9(4)
m_strPic=9(4)
m_nItemLevel=2
m_nSync=-1
m_bFixed=1
{{@DataItem_m_strDescriptionFDITEM7_WK

@}}
[FDITEM8_WK]
m_strName=ilk-ay
m_strRawPic=9(2)
m_strPic=9(2)
m_nItemLevel=2
m_nSync=-1
m_bFixed=1
{{@DataItem_m_strDescriptionFDITEM8_WK



@}}
[FDITEM9_WK]
m_strName=ilk-gun
m_strRawPic=9(2)
m_strPic=9(2)
m_nItemLevel=2
m_nSync=-1
m_bFixed=1
{{@DataItem_m_strDescriptionFDITEM9_WK


@}}
[FDITEM10_WK]
m_strName=son-tar
m_nItemLevel=1
m_nSync=-1
m_bFixed=1
{{@DataItem_m_strDescriptionFDITEM10_WK

@}}
[FDITEM11_WK]
m_strName=son-yil
m_strRawPic=9(4)
m_strPic=9(4)
m_nItemLevel=2
m_nSync=-1
m_bFixed=1
{{@DataItem_m_strDescriptionFDITEM11_WK

@}}
[FDITEM12_WK]
m_strName=son-ay
m_strRawPic=9(2)
m_strPic=9(2)
m_nItemLevel=2
m_nSync=-1
m_bFixed=1
{{@DataItem_m_strDescriptionFDITEM12_WK



@}}
[FDITEM13_WK]
m_strName=son-gun
m_strRawPic=9(2)
m_strPic=9(2)
m_nItemLevel=2
m_nSync=-1
m_bFixed=1
{{@DataItem_m_strDescriptionFDITEM13_WK


@}}
[FDITEM14_WK]
m_strName=merkez-ip-adresi
m_strRawPic=x(15)
m_strPic=X(15)
m_nItemLevel=1
m_nSync=-1
m_bFixed=1
{{@DataItem_m_strDescriptionFDITEM14_WK

@}}
[FDITEM15_WK]
m_strName=benim-ip
m_strRawPic=x(15)
m_strPic=X(15)
m_nItemLevel=1
m_nSync=-1
m_bFixed=1
{{@DataItem_m_strDescriptionFDITEM15_WK

@}}
[FDITEM16_WK]
m_strName=giden-adres
m_strRawPic=x(21)
m_strPic=X(21)
m_strDefaultValue="/asya/ytl/prof/giden/"
m_nItemLevel=1
m_bValue=1
m_nSync=-1
m_bFixed=1
{{@DataItem_m_strDescriptionFDITEM16_WK

@}}
[FDITEM17_WK]
m_strName=merkez-adres
m_strRawPic=x(22)
m_strPic=X(22)
m_strDefaultValue="/asya/ytl/prof/merkez/"
m_nItemLevel=1
m_bValue=1
m_nSync=-1
m_bFixed=1
{{@DataItem_m_strDescriptionFDITEM17_WK

@}}
[FDITEM18_WK]
m_strName=giden-handle
m_nUsage=23
m_nItemLevel=77
m_nSync=-1
m_bFixed=1
{{@DataItem_m_strDescriptionFDITEM18_WK

@}}
[FDITEM19_WK]
m_strName=donus-code
m_strRawPic=9
m_strPic=9
m_nItemLevel=1
m_nSync=-1
m_bFixed=1
{{@DataItem_m_strDescriptionFDITEM19_WK

@}}
[FDITEM20_WK]
m_strName=giden-filename
m_strRawPic=x(256)
m_strPic=X(256)
m_nItemLevel=77
m_nSync=-1
m_bFixed=1
{{@DataItem_m_strDescriptionFDITEM20_WK

@}}
[FDITEM21_WK]
m_strName=remove-filename
m_strRawPic=x(50)
m_strPic=X(50)
m_nItemLevel=1
m_nSync=-1
m_bFixed=1
{{@DataItem_m_strDescriptionFDITEM21_WK

@}}
[FDITEM22_WK]
m_strName=merkez-filename
m_strRawPic=x(50)
m_strPic=X(50)
m_nItemLevel=1
m_nSync=-1
m_bFixed=1
{{@DataItem_m_strDescriptionFDITEM22_WK

@}}
[FDITEM23_WK]
m_strName=tayvar
m_strRawPic=999
m_strPic=999
m_nItemLevel=1
m_nSync=-1
m_bFixed=1
{{@DataItem_m_strDescriptionFDITEM23_WK

@}}
[FDITEM24_WK]
m_strName=tay-al-adres
m_strRawPic=x(37)
m_strPic=X(37)
m_nItemLevel=1
m_nSync=-1
m_bFixed=1
{{@DataItem_m_strDescriptionFDITEM24_WK

@}}
[FDITEM25_WK]
m_strName=tay-git-adres
m_nItemLevel=1
m_nSync=-1
m_bFixed=1
{{@DataItem_m_strDescriptionFDITEM25_WK

@}}
[FDITEM26_WK]
m_strName=FILLER
m_strRawPic=x(35)
m_strPic=X(35)
m_strDefaultValue="@[DISPLAY]:\asya\ytl\profil\merkez\"
m_nItemLevel=5
m_bValue=1
m_nSync=-1
m_bFixed=1
{{@DataItem_m_strDescriptionFDITEM26_WK

@}}
[FDITEM27_WK]
m_strName=tay-git-dosya
m_strRawPic=x(8)
m_strPic=X(8)
m_nItemLevel=5
m_nSync=-1
m_bFixed=1
{{@DataItem_m_strDescriptionFDITEM27_WK

@}}
[FDITEM28_WK]
m_strName=giden-parametre
m_strRawPic=x(26)
m_strPic=X(26)
m_nItemLevel=1
m_nSync=-1
m_bFixed=1
{{@DataItem_m_strDescriptionFDITEM28_WK

@}}
[FDITEM29_WK]
m_strName=parametre
m_strRawPic=x(256)
m_strPic=X(256)
m_nItemLevel=1
m_nSync=-1
m_bFixed=1
{{@DataItem_m_strDescriptionFDITEM29_WK

@}}
[FDITEM30_WK]
m_strName=parametre1
m_strRawPic=x(4)
m_strPic=X(4)
m_nItemLevel=1
m_nSync=-1
m_bFixed=1
{{@DataItem_m_strDescriptionFDITEM30_WK

@}}
[FDITEM31_WK]
m_strName=parametre2
m_strRawPic=x(50)
m_strPic=X(50)
m_nItemLevel=1
m_nSync=-1
m_bFixed=1
{{@DataItem_m_strDescriptionFDITEM31_WK

@}}
[FDITEM32_WK]
m_strName=parametre3
m_strRawPic=x(13)
m_strPic=x(13)
m_nItemLevel=1
m_nSync=-1
m_bFixed=1
{{@DataItem_m_strDescriptionFDITEM32_WK

@}}
[FDITEM33_WK]
m_strName=parametre4
m_strRawPic=x
m_strPic=X
m_nItemLevel=1
m_nSync=-1
m_bFixed=1
{{@DataItem_m_strDescriptionFDITEM33_WK

@}}
[FDITEM34_WK]
m_strName=parametre5
m_strRawPic=x(50)
m_strPic=X(50)
m_nItemLevel=1
m_nSync=-1
m_bFixed=1
{{@DataItem_m_strDescriptionFDITEM34_WK

@}}
[FDITEM35_WK]
m_strName=arg
m_strRawPic=x(60)
m_strPic=X(60)
m_nItemLevel=1
m_nSync=-1
m_bFixed=1
{{@DataItem_m_strDescriptionFDITEM35_WK

@}}
[FDITEM36_WK]
m_strName=gkey
m_strRawPic=99
m_strPic=99
m_nItemLevel=1
m_nSync=-1
m_bFixed=1
{{@DataItem_m_strDescriptionFDITEM36_WK

@}}
[FDITEM37_WK]
m_strName=par3
m_strRawPic=x(50)
m_strPic=X(50)
m_nItemLevel=1
m_nSync=-1
m_bFixed=1
{{@DataItem_m_strDescriptionFDITEM37_WK

@}}
[FDITEM38_WK]
m_strName=par2
m_strRawPic=x(50)
m_strPic=X(50)
m_nItemLevel=1
m_nSync=-1
m_bFixed=1
{{@DataItem_m_strDescriptionFDITEM38_WK

@}}
[FDITEM39_WK]
m_strName=par1
m_strRawPic=x(50)
m_strPic=X(50)
m_nItemLevel=1
m_nSync=-1
m_bFixed=1
{{@DataItem_m_strDescriptionFDITEM39_WK

@}}
[FDITEM40_WK]
m_strName=yip-no
m_strRawPic=x(30)
m_strPic=X(30)
m_nItemLevel=1
m_nSync=-1
m_bFixed=1
{{@DataItem_m_strDescriptionFDITEM40_WK

@}}
[FDITEM41_WK]
m_strName=sube
m_strRawPic=xx
m_strPic=XX
m_nItemLevel=1
m_nSync=-1
m_bFixed=1
{{@DataItem_m_strDescriptionFDITEM41_WK

@}}
[FDITEM42_WK]
m_strName=i
m_strRawPic=99999
m_strPic=99999
m_nItemLevel=1
m_nSync=-1
m_bFixed=1
{{@DataItem_m_strDescriptionFDITEM42_WK

@}}
[FDITEM43_WK]
m_strName=gun
m_strRawPic=999
m_strPic=999
m_nItemLevel=1
m_nSync=-1
m_bFixed=1
{{@DataItem_m_strDescriptionFDITEM43_WK

@}}
[FDITEM44_WK]
m_strName=giden-filename-1
m_strRawPic=x(40)
m_strPic=x(40)
m_nItemLevel=1
m_nSync=-1
m_bFixed=1
{{@DataItem_m_strDescriptionFDITEM44_WK

@}}
[FDITEM45_WK]
m_strName=merkez-sube
m_strRawPic=xx
m_strPic=XX
m_nItemLevel=1
m_nSync=-1
m_bFixed=1
{{@DataItem_m_strDescriptionFDITEM45_WK

@}}
[FDITEM46_WK]
m_strName=xsube
m_strRawPic=99
m_strPic=99
m_nItemLevel=1
m_nSync=-1
m_bFixed=1
{{@DataItem_m_strDescriptionFDITEM46_WK

@}}
[FDITEM47_WK]
m_nType=10
m_strName=ekran-deg
m_strRawPic=X(5)
m_strPic=X(5)
m_strDefaultValue="Label"
m_nItemLevel=77
m_nSync=-1
m_bFixed=1
{{@DataItem_m_strDescriptionFDITEM47_WK

@}}
[FDITEM48_WK]
m_strName=ybaglanti-merkezi
m_strRawPic=9
m_strPic=9
m_nItemLevel=1
m_nSync=-1
m_bFixed=1
{{@DataItem_m_strDescriptionFDITEM48_WK

@}}


[LINKAGE_SECTION]
m_nType=1
m_strName=Linkage Section
m_bBlockRecords=1
m_bRecordFixed=1
m_bStandard=1
{{@FD_m_strDescriptionLK

@}}


{{@SCREEN:
*   Screen Painter Data
*   Schema 6.0
*
BEGIN-SPDATA

GRAPHICAL-SCREEN

Begin Screen Screen1
   PREFIX            = Screen1
   LOCK-CONTROL      = FALSE
   (Name)            = Screen1
   Absolute Column   = 0
   Absolute Line     = 0
   Action            = (None)
   Auto Minimize     = TRUE
   Auto Resize       = FALSE
   Bind To Thread    = FALSE
   Boxed             = FALSE
   Cell              = TRUE
   Cell Height       = 10
   Cell Measure      = Pixels
   Cell Width        = 10
   Color             = 65793
   Controls Uncropped = FALSE
   Erase Screen      = FALSE
   Font              = Small Font
   Font Variable     = Small-Font
   Handle Variable   = Screen1-Handle
   Help ID           = 0
   Label Offset      = 0
   Layout Manager    = None
   Lines             = 17.50
   Link To Thread    = TRUE
   Max Lines         = 0.00
   Max Size          = 0.00
   Measuring Control = Label
   Measuring Font    = Default Font
   Measuring Style   = [None]
   Min Lines         = 0.00
   Min Size          = 0.00
   Modeless          = TRUE
   No Close          = FALSE
   Resizable         = FALSE
   Scroll            = FALSE
   Size              = 41.50
   System Menu       = TRUE
   Title             = "Asya Profil Aktarim Konsolu..."
   Title Bar         = TRUE
   Unit              = Cells
   User Gray         = TRUE
   User White        = TRUE
   Visible           = 1:TRUE
   Window Type       = Standard
   Wrap              = FALSE
   Event Procedure   = Screen1-Event-Proc
   Exception Procedure = Screen1-Exception-Proc
   Other(ex)         = Screen1-Ex-Other
   Before Create     = Screen1-Bef-Create
   After Initdata    = Screen1-Aft-Initdata
   Begin Status-Bar Screen1-St-1
      LOCK-CONTROL      = FALSE
      (Name)            = Screen1-St-1
      Font              = Small Font
      Font Variable     = Small-Font
      Grip              = TRUE
      Handle Variable   = Screen1-St-1-Handle
      PANEL-WIDTHS      = ( 100 )
      PANEL-STYLE       = ( 1 )
      Tab Order         = 1
   End
   Begin Label Screen1-La-1
      SCREEN-COL        = 6.50
      SCREEN-LINE       = 3.50
      LOCK-CONTROL      = FALSE
      (Name)            = Screen1-La-1
      Ccol              = 0
      Cline             = 0
      Clines            = 0
      Color             = 0
      Column            = 6.50
      Csize             = 0
      Destroy Type      = Automatic
      Enable            = 1:TRUE
      Font              = Small Font
      Font Variable     = Small-Font
      Help ID           = 0
      ID                = 1
      Justification     = Unaligned
      Label Offset      = 0
      Layout Data       = 0
      Layout Data Max Height Cells = 0.00
      Layout Data Max Height Pixels = 0
      Layout Data Max Width Cells = 0.00
      Layout Data Max Width Pixels = 0
      Layout Data Min Height Cells = 0.00
      Layout Data Min Height Pixels = 0
      Layout Data Min Width Cells = 0.00
      Layout Data Min Width Pixels = 0
      Line              = 3.50
      Lines             = 2.50
      No Key Letter     = FALSE
      Size              = 22.00
      Tab Order         = 2
      Title             = "Label"
      Title Picture     = X(5)
      Title Variable    = ekran-deg
      Transparent       = TRUE
      Visible           = 1:TRUE
   End
End

END-SPDATA

@}}

{{@REPORT:
*   Report Writer Data
*   Schema 6.0
*
BEGIN-RWDATA-6.0A

END-RWDATA

@}}

{{@PARAGRAPH:
*
 Screen1-Ex-Other.
     evaluate key-status
     when 2
     end-evaluate
     
     .
*
 takvim-log-kontrol.
     open input takvim
     open i-o prolog
     initialize prolog-rec takvim-rec
     accept takvim-anah from century-date
     start takvim key not > takvim-anah invalid
        continue
     not invalid

     read takvim backward no lock end move "10"  to fs-takvim
     not at end
         continue
     end-read
 
     perform varying i from 1 by 1 until i > gun + 1 or fs-takvim = "10"
         read takvim backward no lock end move "10" to fs-takvim
         not at end
                 
               move takvim-anah to prolog-tarih giden-filename-1(3:8)
               move sube        to prolog-sube  giden-filename-1(1:2)
               read prolog no lock invalid
                  continue
               not invalid
               perform varying xsube from 1 by 1 until xsube > 15 
                       move xsube        to giden-filename-1(1:2)
        
                       move "*"                to  giden-filename-1(19:1)
                       if prolog-alma-tarihi(1,xsube) > "20100101"
                            move "tmusteri"    to giden-filename-1(11:8) 
                            perform log-kontrol
                       end-if
                       if prolog-alma-tarihi(2,xsube) > "20100101"
                            move "tgprohrk"    to giden-filename-1(11:8) 
                            perform log-kontrol
                       end-if
                       if prolog-alma-tarihi(3,xsube) > "20100101"
                            move "tsprohrk"    to giden-filename-1(11:8) 
                            perform log-kontrol
                       end-if
                end-perform
               end-read
         end-read
     end-perform
     end-start
     close takvim prolog.  
*
 send-to-center.
     perform merkez-sirket-bul
        accept system-information from system-info
        accept terminal-abilities from terminal-info
        move all low-values to yip-no
        string 
                "@" delimited by size
                merkez-ip-adresi delimited by spaces
                ":" delimited by size
        into yip-no
        if operating-system = "Unix" and
           ybaglanti-merkezi = 0
           string yip-no delimited by low-values
             "/asya/ytl/prof/log/prolog" delimited by size 
           into prolog-dosya
        else
           string 
             "/asya/ytl/prof/log/prolog" delimited by size 
           into prolog-dosya
        end-if
     open input takvim
     open i-o prolog
     initialize prolog-rec takvim-rec
     accept takvim-anah from century-date
     start takvim key not > takvim-anah invalid
        continue
     not invalid

     read takvim backward no lock end move "10"  to fs-takvim
     not at end
         continue
     end-read

     perform varying i from 1 by 1 until i > gun or fs-takvim = "10"
         read takvim backward no lock end move "10" to fs-takvim
         not at end
               move takvim-anah to prolog-tarih giden-filename-1(3:8) ekran-deg
               move sube        to prolog-sube  giden-filename-1(1:2)
               read prolog no lock invalid
                  continue
               not invalid
               move "*"             to  giden-filename-1(19:1)
               if prolog-olusturma-tarih(1) > "20100101" and 
                  prolog-merkeze-gonderme-tarih(1) < "20100101"
                    move "tmusteri"    to giden-filename-1(11:8) 
                    perform giden-klasor-tara
               end-if
               if prolog-olusturma-tarih(2) > "20100101" and 
                  prolog-merkeze-gonderme-tarih(2) < "20100101"
                    move "tgprohrk"    to giden-filename-1(11:8) 
                    perform giden-klasor-tara
               end-if
               if prolog-olusturma-tarih(3) > "20100101" and 
                  prolog-merkeze-gonderme-tarih(3) < "20100101"
                    move "tsprohrk"    to giden-filename-1(11:8) 
                    perform giden-klasor-tara
               end-if
               end-read
               display Screen1-La-1
         end-read
     end-perform
     end-start
     close takvim prolog

        .

*
 Screen1-Bef-Create.
    accept arg from command-line
    UNSTRING arg
               delimited by  "--"  
               into par1
                par2
                par3
                   
              end-unstring
    move par1 to isyeri-adres-tasi
    move function numval(par2) to gun
    perform adresleri-tasi. 
     .
*
 merkez-sirket-bul.
      open input baglanti 
      initialize baglanti-rec
      start baglanti key not < baglanti-kodu invalid
          continue
      not invalid
      perform with test after until fs-baglanti = "10"
      read baglanti next no lock end move "10" to fs-baglanti
      not at end
              if baglanti-merkezi = 1
                   move baglanti-aciklama-1 to merkez-ip-adresi
                   move baglanti-ana        to merkez-sube
                    move 1 to ybaglanti-merkezi
              end-if
              if baglanti-adi = isyeri-adres-tasi
                 move baglanti-ana    to sube
                  move 0 to ybaglanti-merkezi
                  if baglanti-merkezi = 1
                     move 1 to ybaglanti-merkezi
                  end-if 
              end-if
      end-read
      end-perform
      end-start
      close baglanti
       .
*
 giden-klasor-tara.
     call "c$list-directory" using 
                             listdir-open, 
                             giden-adres,
                             giden-filename-1. 
    move return-code to giden-handle.
    if giden-handle = 0
      exit paragraph
    end-if.

    perform with test after until giden-adres = spaces 
            call "c$list-directory" using 
                                    listdir-next, 
                                    giden-handle, 
                                    giden-filename,
                                    listdir-file-information            
            if giden-filename = spaces or 
               giden-filename(1:18) not = giden-filename-1(1:18)  
                  exit perform            
            end-if

            if giden-filename <> spaces and 
               listdir-file-type-regular-file             
***************************************************************************************
                    string "/asya/ytl/prof/giden/" delimited by low-values            |
                          giden-filename   delimited by spaces                        |
                    into merkez-filename                                              |
***************************************************************************************
                    string "/asya/ytl/prof/merkez/" delimited by low-values           |
                          giden-filename   delimited by spaces                        |
                    into remove-filename                                              |
***************************************************************************************
                    if sube not = merkez-sube

                            move remove-filename   to parametre5
                            string yip-no delimited by low-values
                                   parametre5 delimited by low-values
                            into parametre
                            
                            call "c$copy"using merkez-filename  parametre

*                            move "scp "            to parametre1
*                            move merkez-filename   to parametre2
*        
*                            move merkez-ip-adresi  to parametre3
*                            move ":"               to parametre4
*                            move remove-filename   to parametre5
*
*                            string parametre1 delimited by low-values
*                                   parametre2 delimited by low-values
*                                   " "        delimited by low-values
*                                   parametre3 delimited by spaces
*                                   parametre4 delimited by low-values
*                                   parametre5 delimited by low-values
*                            into parametre
                    end-if

                    if sube = merkez-sube
                           call "c$copy" using merkez-filename  remove-filename
*                            move "scp "            to parametre1
*                            move merkez-filename   to parametre2
        
*                            move remove-filename   to parametre5
*                            string parametre1 delimited by low-values
*                                   parametre2 delimited by low-values
*                                   " "        delimited by low-values
*                                   parametre5 delimited by low-values
*                            into parametre
                    end-if

**                    call "c$system" using parametre 
                    if giden-filename(11:8) = "tmusteri"
                         accept prolog-merkeze-gonderme-tarih(1) from century-date
                         accept prolog-merkeze-gonderme-zamani(1) from time
                           rewrite prolog-rec end-rewrite 
                    end-if
                    if giden-filename(11:8) = "tgprohrk"
                         accept prolog-merkeze-gonderme-tarih(2) from century-date
                         accept prolog-merkeze-gonderme-zamani(2) from time
                           rewrite prolog-rec end-rewrite 
                    end-if
                    if giden-filename(11:8) = "tsprohrk"
                         accept prolog-merkeze-gonderme-tarih(3) from century-date
                         accept prolog-merkeze-gonderme-zamani(3) from time
                           rewrite prolog-rec end-rewrite 
                    end-if
            end-if
    end-perform.

    call "c$list-directory" using 
                            listdir-close,
                            giden-handle. 

*
 Screen1-Aft-Initdata.
        perform send-to-center
        perform takvim-log-kontrol
        set exit-pushed to true
        .

*
 log-kontrol.
     move "/asya/ytl/prof/gelen"  to giden-adres
     call "c$list-directory" using 
                             listdir-open, 
                             giden-adres,
                             giden-filename-1. 
    move return-code to giden-handle.
    if giden-handle = 0
      exit paragraph
    end-if.

*    perform with test after until giden-adres = spaces 
            call "c$list-directory" using 
                                    listdir-next, 
                                    giden-handle, 
                                    giden-filename,
                                    listdir-file-information            
            if giden-filename = spaces or 
               giden-filename not = giden-filename-1(1:18)                   
            
                    if giden-filename-1(11:8) = "tmusteri"
                         initialize  prolog-alma-tarihi(1,xsube) 
                         initialize  prolog-alma-zamani(1,xsube) 
                           rewrite prolog-rec end-rewrite 
                    end-if
                    if giden-filename-1(11:8) = "tgprohrk"
                         initialize  prolog-alma-tarihi(2,xsube) 
                         initialize  prolog-alma-zamani(2,xsube) 
                           rewrite prolog-rec end-rewrite 
                    end-if
                    if giden-filename-1(11:8) = "tsprohrk"
                         initialize  prolog-alma-tarihi(3,xsube) 
                         initialize  prolog-alma-zamani(3,xsube) 
                           rewrite prolog-rec end-rewrite 
                    end-if
            end-if
*    end-perform.

    call "c$list-directory" using 
                            listdir-close,
                            giden-handle.
        .    
     .


 


@}}

[KEY_STATUS_FIELD_FORMAT]
PIC=9(4)
USAGE=[None]

[KEYSTATUS_CONTENT:KS1]
CONDITION=Exit-Pushed
VALUE=27

[KEYSTATUS_CONTENT:KS2]
CONDITION=Message-Received
VALUE=95

[KEYSTATUS_CONTENT:KS3]
CONDITION=Event-Occurred
VALUE=96

[KEYSTATUS_CONTENT:KS4]
CONDITION=Screen-No-Input-Field
VALUE=97

[KEYSTATUS_CONTENT:KS5]
CONDITION=Screen-Time-Out
VALUE=99

[CODE_GENERATION_OPTIONS]
FOLLOW_PROJECT_OPTIONS=1
GENERATE_PROGRAM_FILE=1
GENERATE_WORKING_STORAGE=1
GENERATE_EVENT_PARAGRAPH=1
GENERATE_SCREEN_SECTION=1
GENERATE_REPORT_SECTION=1
GENERATE_PROCEDURE_DIVISION=1
GENERATE_MENU_PARAGRAPH=1
GENERATE_LINKAGE_SECTION=1
REPLACE_REMARK_PART=1
EXCLUDE_PROGRAM_VARIABLE=0
EXCLUDE_PROGRAM_PARAGRAPH=0
PROGRAM_EXTENSION=.cbl
WORKINGSTORAGE_EXTENSION=.wrk
EVENT_EXTENSION=.evt
SCREEN_EXTENSION=.scr
REPORT_EXTENSION=.rpt
PROCEDURE_EXTENSION=.prd
MENU_EXTENSION=.mnu
LINKAGE_EXTENSION=.lks
PROGRAM_FILE_READ_ONLY=0
LINK_CLOSE_TO_OPEN=0
COPYBOOK_READ_ONLY=0
GENERATE_COPY_FILES=1
ACCEPT_CONTROL=4
ANSI_DOCUMENT_FORMAT=0