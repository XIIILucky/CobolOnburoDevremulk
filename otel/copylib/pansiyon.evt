* pansiyon.evt
* pansiyon.evt is generated from D:\asya\acugt.ytl\otel\pansiyon.Psf
* This is a generated file. DO NOT modify this file directly.


 Form1-Event-Proc.
     .

 Form1-Exception-Proc.
     PERFORM Exception-Procedure
     .

 cb-0101-Exception-Proc.
* 
     IF Event-Occurred
        EVALUATE Event-Type
        WHEN Cmd-Clicked
           PERFORM Cb-Notifiy-Procedure
        END-EVALUATE
     END-IF
     .

 cb-0102-Exception-Proc.
* 
     IF Event-Occurred
        EVALUATE Event-Type
        WHEN Cmd-Clicked
           PERFORM Cb-Notifiy-Procedure
        END-EVALUATE
     END-IF
     .

 cb-0103-Exception-Proc.
* 
     IF Event-Occurred
        EVALUATE Event-Type
        WHEN Cmd-Clicked
           PERFORM Cb-Notifiy-Procedure
        END-EVALUATE
     END-IF
     .

 cb-0104-Exception-Proc.
* 
     IF Event-Occurred
        EVALUATE Event-Type
        WHEN Cmd-Clicked
           PERFORM Cb-Notifiy-Procedure
        END-EVALUATE
     END-IF
     .

 cb-0105-Exception-Proc.
* 
     IF Event-Occurred
        EVALUATE Event-Type
        WHEN Cmd-Clicked
           PERFORM Cb-Notifiy-Procedure
        END-EVALUATE
     END-IF
     .

 cb-0106-Exception-Proc.
* 
     IF Event-Occurred
        EVALUATE Event-Type
        WHEN Cmd-Clicked
           PERFORM cb-notifiy-procedure
        END-EVALUATE
     END-IF
     .

 Form1-Lb-1-Exception-Proc.
* 
     IF Event-Occurred
        EVALUATE Event-Type
        WHEN Cmd-Dblclick
           PERFORM listbox-eventlar
        WHEN Cmd-Goto
           PERFORM Listbox-Eventlar
        WHEN Ntf-Selchange
           PERFORM Listbox-Eventlar
        END-EVALUATE
     END-IF
     .

 cb-0107-Exception-Proc.
* 
     IF Event-Occurred
        EVALUATE Event-Type
        WHEN Cmd-Clicked
           PERFORM cb-notifiy-procedure
        END-EVALUATE
     END-IF
     .

 cb-0108-Exception-Proc.
* 
     IF Event-Occurred
        EVALUATE Event-Type
        WHEN Cmd-Clicked
           PERFORM cb-notifiy-procedure
        END-EVALUATE
     END-IF
     .

 cb-0109-Exception-Proc.
* 
     IF Event-Occurred
        EVALUATE Event-Type
        WHEN Cmd-Clicked
           PERFORM cb-notifiy-procedure
        END-EVALUATE
     END-IF
     .

 cb-0110-Exception-Proc.
* 
     IF Event-Occurred
        EVALUATE Event-Type
        WHEN Cmd-Clicked
           PERFORM cb-notifiy-procedure
        END-EVALUATE
     END-IF
     .

 cb-0111-Exception-Proc.
* 
     IF Event-Occurred
        EVALUATE Event-Type
        WHEN Cmd-Clicked
           PERFORM cb-notifiy-procedure
        END-EVALUATE
     END-IF
     .

 cb-0112-Exception-Proc.
* 
     IF Event-Occurred
        EVALUATE Event-Type
        WHEN Cmd-Clicked
           PERFORM cb-notifiy-procedure
        END-EVALUATE
     END-IF
     .

 cb-0113-Exception-Proc.
* 
     IF Event-Occurred
        EVALUATE Event-Type
        WHEN Cmd-Clicked
           PERFORM cb-notifiy-procedure
        END-EVALUATE
     END-IF
     .

 cb-0114-Exception-Proc.
* 
     IF Event-Occurred
        EVALUATE Event-Type
        WHEN Cmd-Clicked
           PERFORM cb-notifiy-procedure
        END-EVALUATE
     END-IF
     .

 cb-0115-Exception-Proc.
* 
     IF Event-Occurred
        EVALUATE Event-Type
        WHEN Cmd-Clicked
           PERFORM cb-notifiy-procedure
        END-EVALUATE
     END-IF
     .
***   start event editor code   ***
*
 Form1-Bef-Create.
     perform adresleri-tasi.
*
 accept-0101-Bef-Procedure.
     initialize kodlar02-rec.
     perform bef-procedure.
     initialize kontrol-degiskenleri.
     move 1 to button-0103-enabled accept-0101-enabled.
     display accept-0102,accept-0102a,
     accept-0103,accept-0104,accept-0104
     accept-0105,accept-0106,accept-0107,accept-0108
     cb-0101,cb-0102,cb-0103,cb-0104,cb-0105,cb-0106,
     cb-0107
     cb-0108,cb-0109,cb-0110,cb-0111,cb-0112,cb-0113,cb-0114
     cb-0115
     button-0101,button-0102,button-0102a,button-0103,button-0104,button-0105
     button-0106,button-0107,button-0108,button-0109.
     modify label-0103, title = " "
     modify label-0104, title = " "
     modify label-0105, title = " "
     modify label-0106, title = " "
     modify label-0107, title = " "
     modify label-0108, title = " ".
*
 accept-0101-Aft-Procedure.
     if kodlar02-kodu = spaces 
        move 0 to button-0101-enabled,button-0102-enabled
     else 
        move 1 to button-0101-enabled,button-0102-enabled
     end-if.
     display button-0101,button-0102,button-0102a
     open input kodlar02.
     move "A" to kodlar02-tipi
     read kodlar02 no lock invalid
          initialize
          kodlar02-adi pan-oda      oda-dep
                       pan-kahvalti kahvalti-dep
                       pan-ogle     ogle-dep
                       pan-aksam    aksam-dep
                       pan-extra    extra-dep
                       pan-icecek   icecek-dep
          move 0 to kodlar02-alkol
     end-read
     close kodlar02.
     if kodlar02-alkol = 0 or 
        kodlar02-alkol = 1 or 
        kodlar02-alkol = 2 or 
        kodlar02-alkol = 3
        continue
     else 
        move 0 to kodlar02-alkol
     end-if.

     initialize cb-0101-value cb-0102-value cb-0103-value
     cb-0104-value cb-0105-value cb-0106-value cb-0107-value
     cb-0108-value cb-0109-value cb-0110-value cb-0111-value
     cb-0112-value cb-0113-value cb-0114-value cb-0115-value
     accept-0103-enabled accept-0104-enabled accept-0105-enabled
     accept-0106-enabled accept-0107-enabled accept-0108-enabled
     if pan-oda      = "X"  move 1 to cb-0101-value accept-0103-enabled button-0104-enabled.
     if pan-kahvalti = "X"  move 1 to cb-0102-value accept-0104-enabled button-0105-enabled.
     if pan-ogle     = "X"  move 1 to cb-0103-value accept-0105-enabled button-0106-enabled.
     if pan-aksam    = "X"  move 1 to cb-0104-value accept-0106-enabled button-0107-enabled.
     if pan-icecek   = "X"  move 1 to cb-0105-value accept-0107-enabled button-0108-enabled.
     if pan-extra    = "X"  move 1 to cb-0106-value accept-0108-enabled button-0109-enabled.
     if pan-kahvalti-giris = "X"  move 1 to cb-0107-value accept-0108-enabled button-0109-enabled.
     if pan-kahvalti-kalis = "X"  move 1 to cb-0108-value accept-0108-enabled button-0109-enabled.
     if pan-kahvalti-cikis = "X"  move 1 to cb-0109-value accept-0108-enabled button-0109-enabled.
     if pan-oglen-giris    = "X"  move 1 to cb-0110-value accept-0108-enabled button-0109-enabled.
     if pan-oglen-kalis    = "X"  move 1 to cb-0111-value accept-0108-enabled button-0109-enabled.
     if pan-oglen-cikis    = "X"  move 1 to cb-0112-value accept-0108-enabled button-0109-enabled.
     if pan-aksam-giris    = "X"  move 1 to cb-0113-value accept-0108-enabled button-0109-enabled.
     if pan-aksam-kalis    = "X"  move 1 to cb-0114-value accept-0108-enabled button-0109-enabled.
     if pan-aksam-cikis    = "X"  move 1 to cb-0115-value accept-0108-enabled button-0109-enabled.
     display cb-0101 cb-0102 cb-0103 cb-0104 cb-0105 cb-0106
     cb-0107
     cb-0108,cb-0109,cb-0110,cb-0111,cb-0112,cb-0113,cb-0114
     cb-0115
     accept-0102,
     accept-0102a, accept-0103 accept-0104 accept-0105
     accept-0106 accept-0107 accept-0108 
     button-0104,button-0105,button-0106,button-0107,button-0108,button-0109
     alkol-combo.

     open input depkod.
     move oda-dep to depkod-anah
     read depkod no lock invalid
          initialize depkod-adi
     end-read
     modify label-0103, title = depkod-adi
     move kahvalti-dep to depkod-anah
     read depkod no lock invalid
          initialize depkod-adi
     end-read
     modify label-0104, title = depkod-adi
     move ogle-dep to depkod-anah
     read depkod no lock invalid
          initialize depkod-adi
     end-read
     modify label-0105, title = depkod-adi
     move aksam-dep to depkod-anah
     read depkod no lock invalid
          initialize depkod-adi
     end-read
     modify label-0106, title = depkod-adi
     move icecek-dep to depkod-anah
     read depkod no lock invalid
          initialize depkod-adi
     end-read
     modify label-0107, title = depkod-adi
     move extra-dep to depkod-anah
     read depkod no lock invalid
          initialize depkod-adi
     end-read
     modify label-0108, title = depkod-adi
     close depkod.

     perform listbox-yer-bul.
     if i > zeroes
        modify form1-lb-1,
               selection-index = i
     end-if.
*
 exception-procedure.
     evaluate key-status
         when 1
              evaluate control-id
               when 5
                initialize pansiyon-cagir
                move "A" to pansiyon-tipi-cagir
                call "/asya/ytl/obj/otel/panara.asy" using pansiyon-cagir
                     on exception perform callerr-proc
                     not on exception
                cancel "/asya/ytl/obj/otel/panara.asy" 
                end-call
                move pansiyon-kodu-cagir     to kodlar02-kodu
                display accept-0101
               
                move 4 to accept-control
                move 5 to control-id                
               when 11
               when 12
                initialize depkod-cagir
                call "/asya/ytl/obj/otel/depara.asy" using depkod-cagir
                     on exception perform callerr-proc
                     not on exception
                cancel "/asya/ytl/obj/otel/depara.asy" 
                end-call
                move depkod-dep-kodu to oda-dep
                display accept-0103
                accept omitted
                move 4 to accept-control
                move 11 to control-id
               when 15
               when 16
                initialize depkod-cagir
                call "/asya/ytl/obj/otel/depara.asy" using depkod-cagir
                     on exception perform callerr-proc
                     not on exception
                cancel "/asya/ytl/obj/otel/depara.asy" 
                end-call
                move depkod-dep-kodu to kahvalti-dep
                display accept-0104
                move 4 to accept-control
                move 15 to control-id
               when 24
               when 25
                initialize depkod-cagir
                call "/asya/ytl/obj/otel/depara.asy" using depkod-cagir
                     on exception perform callerr-proc
                     not on exception
                cancel "/asya/ytl/obj/otel/depara.asy" 
                end-call
                move depkod-dep-kodu to ogle-dep
                display accept-0105
                move 4 to accept-control
                move 24 to control-id
               when 28
               when 29
                initialize depkod-cagir
                call "/asya/ytl/obj/otel/depara.asy" using depkod-cagir
                     on exception perform callerr-proc
                     not on exception
                cancel "/asya/ytl/obj/otel/depara.asy" 
                end-call
                move depkod-dep-kodu to aksam-dep
                display accept-0106
                move 4 to accept-control
                move 28 to control-id

               when 32
               when 33
                initialize depkod-cagir
                call "/asya/ytl/obj/otel/depara.asy" using depkod-cagir
                     on exception perform callerr-proc
                     not on exception
                cancel "/asya/ytl/obj/otel/depara.asy" 
                end-call
                move depkod-dep-kodu to icecek-dep
                display accept-0107
                move 4 to accept-control
                move 32 to control-id
               when 36
               when 37
                initialize depkod-cagir
                call "/asya/ytl/obj/otel/depara.asy" using depkod-cagir
                     on exception perform callerr-proc
                     not on exception
                cancel "/asya/ytl/obj/otel/depara.asy" 
                end-call
                move depkod-dep-kodu to extra-dep
                display accept-0108
                move 4 to accept-control
                move 36 to control-id
              end-evaluate
         when 2 
*/ kontroller
              if kodlar02-kodu = spaces
                 move 4 to accept-control
                 move 5 to control-id
                 exit paragraph
              end-if
              open input depkod
              if pan-oda = "X"
                 move oda-dep to depkod-anah
                 read depkod no lock invalid
                      close depkod
                      move 4 to accept-control
                      move 11 to control-id
                      exit paragraph
                 end-read
                 if depkod-ba not = "B"
                    initialize mesaj-link
                    move 5 to mesaj-no
                    perform mesaj-ver
                    move 4 to accept-control
                    move 11 to control-id
                    close depkod
                    exit paragraph
                 end-if
              end-if
              if pan-kahvalti = "X"
                 move kahvalti-dep to depkod-anah
                 read depkod no lock invalid
                      close depkod
                      move 4 to accept-control
                      move 15 to control-id
                      exit paragraph
                 end-read
                 if depkod-ba not = "B"
                    initialize mesaj-link
                    move 5 to mesaj-no
                    perform mesaj-ver
                    move 4 to accept-control
                    move 15 to control-id
                    close depkod
                    exit paragraph
                 end-if
              end-if
              if pan-ogle = "X"
                 move ogle-dep to depkod-anah
                 read depkod no lock invalid
                      close depkod
                      move 4 to accept-control
                      move 24 to control-id
                      exit paragraph
                 end-read
                 if depkod-ba not = "B"
                    initialize mesaj-link
                    move 5 to mesaj-no
                    perform mesaj-ver
                    move 4 to accept-control
                    move 24 to control-id
                    close depkod
                    exit paragraph
                 end-if
              end-if
              if pan-aksam = "X"
                 move aksam-dep to depkod-anah
                 read depkod no lock invalid
                      close depkod
                      move 4 to accept-control
                      move 28 to control-id
                      exit paragraph
                 end-read
                 if depkod-ba not = "B"
                    initialize mesaj-link
                    move 5 to mesaj-no
                    perform mesaj-ver
                    move 4 to accept-control
                    move 28 to control-id
                    close depkod
                    exit paragraph
                 end-if
              end-if
              if pan-icecek = "X"
                 move icecek-dep to depkod-anah
                 read depkod no lock invalid
                      close depkod
                      move 4 to accept-control
                      move 32 to control-id
                      exit paragraph
                 end-read
                 if depkod-ba not = "B"
                    initialize mesaj-link
                    move 5 to mesaj-no
                    perform mesaj-ver
                    move 4 to accept-control
                    move 32 to control-id
                    close depkod
                    exit paragraph
                 end-if
              end-if
              if pan-extra = "X"
                 move extra-dep to depkod-anah
                 read depkod no lock invalid
                      close depkod
                      move 4 to accept-control
                      move 36 to control-id
                      exit paragraph
                 end-read
                 if depkod-ba not = "B"
                    initialize mesaj-link
                    move 5 to mesaj-no
                    perform mesaj-ver
                    move 4 to accept-control
                    move 36 to control-id
                    close depkod
                    exit paragraph
                 end-if
              end-if
              close depkod
              open i-o kodlar02
              move "A" to kodlar02-tipi
              write kodlar02-rec invalid 
                    rewrite kodlar02-rec 
                    end-rewrite 
              end-write
                  perform log-operation-kodlar02
              close kodlar02
              perform listbox-yer-bul
              if i > zeroes
                   initialize form1-lb-1-value
                   modify form1-lb-1,
                          item-to-delete(i)
                   move kodlar02-kodu to lb-1-col-1
                   move kodlar02-adi  to lb-1-col-2
                   modify form1-lb-1,
                          item-to-add(form1-lb-1-value)
              else
                 initialize form1-lb-1-value
                 move kodlar02-kodu to lb-1-col-1
                 move kodlar02-adi  to lb-1-col-2
                 modify form1-lb-1,
                        item-to-add(form1-lb-1-value)
              end-if
              move 4 to accept-control
              move 5 to control-id
         when 3
              open i-o kodlar02
              move "A" to kodlar02-tipi
              delete kodlar02 invalid continue 
              end-delete
                  perform log-operation-kodlar02
              close kodlar02
              perform listbox-yer-bul
              if i > zeroes
                 modify form1-lb-1,
                        item-to-delete(i)
              end-if
              move 4 to accept-control
              move 5 to control-id
        when 4
              open input kodlar02
              initialize kodlar02-rec
              start kodlar02 key not < kodlar02-anah invalid
                    initialize mesaj-link
                    move 04 to mesaj-no
                    perform mesaj-ver
                    close kodlar02
                    exit paragraph
              end-start

              open i-o genelfis
              move 1 to genelfis-anahtar
              read genelfis no lock invalid
                   accept print-no from time
              not invalid
                   add 1 to print-no
                   rewrite genelfis-rec end-rewrite
              end-read
              close genelfis
**************************
     initialize dokumer-rec dokumer-anah dokumer-ozellikler-rec
                dokumer-dosya

     set  dokumer-asya-set to true
     move print-no         to dokumer-dosya-adi
     open output dokumer
*/WINDOW TITLE
     initialize dokumer-rec detay
     move "W"                  to det-dokumer-20(1:)
     move "Pansiyon Kodlari Raporu " to det-filler
     write dokumer-rec from detay
*/ BASLIKLAR
     initialize dokumer-rec detay
     move "B"                  to det-dokumer-20(1:1)
     move "1"          to det-dokumer-20(10:1)
     move "Pansiyon Kodlari Raporu " to det-filler
     write dokumer-rec from detay

     initialize dokumer-rec detay
     move "B"                  to det-dokumer-20(1:1)
     write dokumer-rec from detay

*/ DOKUMER OZELLIKLER-REC
     initialize dokumer-rec detay
     move "O" to det-dokumer-20(1:)
     move "E" to dokumer-oto-sayfa-basi
     move 56  to dokumer-oto-sayfa-satir
     move "|" to dokumer-detay-kolon-ayirici
     move "LLLLLLLLLLLL" to dokumer-align-occ
     move dokumer-ozellikler-rec     to det-filler
     write dokumer-rec from detay
*/ BASLIKLAR  s
     initialize dokumer-rec detay
     move "D1"         to det-dokumer-20(1:2)
     move "1"          to det-dokumer-20(10:1)
     move "Kodu"       to det-1
     move "Adi"        to det-2
     move "Oda     "   to det-3
     move "Kahvalti"   to det-4
     move "Ogle    "   to det-5
     move "Aksam  "    to det-6
     move "Icecek "    to det-7
     move "Extra  "    to det-8
     move "|" to fil-1 fil-2 fil-3 fil-4 fil-5 fil-6 fil-7 fil-8
     write dokumer-rec from detay

     initialize dokumer-rec detay
     move "D2"           to det-dokumer-20(1:2)
     move "-"            to det-dokumer-20(5:1)
     move all "-"  to det-1 det-2 det-3 det-4 det-5 det-6 det-7 det-8
     write dokumer-rec from detay
**************************
              initialize fs-kodlar02
              open input depkod
              perform with test after until fs-kodlar02 = "10"
                    read kodlar02 next no lock end move "10" to fs-kodlar02
                    not at end
                        if kodlar02-tipi = "A"
                           initialize dokumer-rec detay
                           move kodlar02-kodu   to det-1
                           move kodlar02-adi    to det-2
                           if pan-oda = "X"
                              move oda-dep to depkod-anah det-3
                              read depkod no lock invalid
                                   move all "*" to depkod-adi
                              end-read
                              move depkod-adi   to det-3(5:)
                           end-if
                           if pan-kahvalti = "X"
                              move kahvalti-dep to depkod-anah det-4
                              read depkod no lock invalid
                                   move all "*" to depkod-adi
                              end-read
                              move depkod-adi   to det-4(5:)
                           end-if
                           if pan-ogle = "X"
                              move ogle-dep to depkod-anah det-5
                              read depkod no lock invalid
                                   move all "*" to depkod-adi
                              end-read
                              move depkod-adi   to det-5(5:)
                           end-if
                           if pan-aksam = "X"
                              move aksam-dep to depkod-anah det-6
                              read depkod no lock invalid
                                   move all "*" to depkod-adi
                              end-read
                              move depkod-adi   to det-6(5:)
                           end-if
                           if pan-icecek = "X"
                              move icecek-dep to depkod-anah det-7
                              read depkod no lock invalid
                                   move all "*" to depkod-adi
                              end-read
                              move depkod-adi   to det-7(5:)
                           end-if
                           if pan-extra = "X"
                              move extra-dep to depkod-anah det-8
                              read depkod no lock invalid
                                   move all "*" to depkod-adi
                              end-read
                              move depkod-adi   to det-8(5:)
                           end-if
                           move "|" to fil-1 fil-2 fil-3 fil-4 fil-5 fil-6 fil-7 fil-8
                           write dokumer-rec from detay
                       end-if
                    end-read
              end-perform
                  initialize dokumer-rec detay
                  move "-"            to det-dokumer-20(5:1)
                  move all "-"  to det-1 det-2 det-3 det-4 det-5 det-6 det-7 det-8
                  write dokumer-rec from detay 
              close depkod
              close kodlar02
              close dokumer
              call dokumer-prog on exception
                   perform callerr-proc
              not on exception
                   cancel dokumer-prog
              end-call
              delete file dokumer
     when 5
          perform breakdown-form-cagir
     end-evaluate.
*
 bef-procedure.
     initialize mesaj.
     evaluate control-id
          when 5
              evaluate true
                  when turkce
                       move "Pansiyon kodunu giriniz F1-Pansiyon kodlari yardimi" to  mesaj
                  when ingilizce
                       move "Pansiyon kodunu giriniz F1-Pansiyon kodlari yardimi" to  mesaj
                  when almanca
                       move "Pansiyon kodunu giriniz F1-Pansiyon kodlari yardimi" to  mesaj
              end-evaluate
          when 8
              evaluate true
                  when turkce
                       move "Pansiyon adini giriniz         " to mesaj
                  when ingilizce
                       move "Pansiyon adini giriniz         " to mesaj
                  when almanca
                       move "Pansiyon adini giriniz         " to mesaj
              end-evaluate
          when 11
              evaluate true
                  when turkce
                       move "Oda icin departman kodu giriniz F1-Deprtman kodlari yardimi " to mesaj
                  when ingilizce
                       move "Oda icin departman kodu giriniz F1-Deprtman kodlari yardimi " to mesaj
                  when almanca
                       move "Oda icin departman kodu giriniz F1-Deprtman kodlari yardimi " to mesaj
              end-evaluate
          when 10
              evaluate true
                  when turkce
                       move "Oda dahil ise seciniz" to mesaj
                  when ingilizce
                       move "Oda dahil ise seciniz" to mesaj
                  when almanca
                       move "Oda dahil ise seciniz" to mesaj
              end-evaluate
          when 14
              evaluate true
                  when turkce
                       move "Kahvalti dahil ise seciniz" to mesaj
                  when ingilizce
                       move "Kahvalti dahil ise seciniz" to mesaj
                  when almanca
                       move "Kahvalti dahil ise seciniz" to mesaj
              end-evaluate
          when 23
              evaluate true
                  when turkce
                       move "Ogle dahil ise seciniz" to mesaj
                  when ingilizce
                       move "Ogle dahil ise seciniz" to mesaj
                  when almanca
                       move "Ogle dahil ise seciniz" to mesaj
              end-evaluate
          when 27
              evaluate true
                  when turkce
                       move "Aksam dahil ise seciniz" to mesaj
                  when ingilizce
                       move "Aksam dahil ise seciniz" to mesaj
                  when almanca
                       move "Aksam dahil ise seciniz" to mesaj
              end-evaluate
          when 31
              evaluate true
                  when turkce
                       move "Icecek dahil ise seciniz" to mesaj
                  when ingilizce
                       move "Icecek dahil ise seciniz" to mesaj
                  when almanca
                       move "Icecek dahil ise seciniz" to mesaj
              end-evaluate
          when 35
              evaluate true
                  when turkce
                       move "Extra dahil ise seciniz" to mesaj
                  when ingilizce
                       move "Extra dahil ise seciniz" to mesaj
                  when almanca
                       move "Extra dahil ise seciniz" to mesaj
              end-evaluate
          when 24
              evaluate true
                  when turkce
                       move "Ogle icin departman kodu giriniz F1-Deprtman kodlari yardimi " to mesaj
                  when ingilizce
                       move "Ogle icin departman kodu giriniz F1-Deprtman kodlari yardimi " to mesaj
                  when almanca
                       move "Ogle icin departman kodu giriniz F1-Deprtman kodlari yardimi " to mesaj
              end-evaluate
          when 28
              evaluate true
                  when turkce
                       move "Aksam icin departman kodu giriniz F1-Deprtman kodlari yardimi " to mesaj
                  when ingilizce
                       move "Aksam icin departman kodu giriniz F1-Deprtman kodlari yardimi " to mesaj
                  when almanca
                       move "Aksam icin departman kodu giriniz F1-Deprtman kodlari yardimi " to mesaj
              end-evaluate
          when 32
              evaluate true
                  when turkce
                       move "Icecek icin departman kodu giriniz F1-Deprtman kodlari yardimi " to mesaj
                  when ingilizce
                       move "Icecek icin departman kodu giriniz F1-Deprtman kodlari yardimi " to mesaj
                  when almanca
                       move "Icecek icin departman kodu giriniz F1-Deprtman kodlari yardimi " to mesaj
              end-evaluate
          when 36
              evaluate true
                  when turkce
                       move "Extra icin departman kodu giriniz F1-Deprtman kodlari yardimi " to mesaj
                  when ingilizce
                       move "Extra icin departman kodu giriniz F1-Deprtman kodlari yardimi " to mesaj
                  when almanca
                       move "Extra icin departman kodu giriniz F1-Deprtman kodlari yardimi " to mesaj
              end-evaluate
          when 52
              evaluate true
                  when turkce
                       move "Extra icin departman kodu giriniz F1-Deprtman kodlari yardimi " to mesaj
                  when ingilizce
                       move "Extra icin departman kodu giriniz F1-Deprtman kodlari yardimi " to mesaj
                  when almanca
                       move "Extra icin departman kodu giriniz F1-Deprtman kodlari yardimi " to mesaj
              end-evaluate
     end-evaluate.

     modify form1-st-1-handle,
            panel-index = 2 
            panel-text = mesaj.
*
 cb-notifiy-procedure.

     evaluate control-id
          when 10
               move cb-0101-value to accept-0103-enabled button-0104-enabled
               display accept-0103 button-0104
               if cb-0101-value = 1  move "X" to pan-oda else move space to pan-oda end-if
          when 14
               move cb-0102-value to accept-0104-enabled button-0105-enabled
               display accept-0104 button-0105
               if cb-0102-value = 1 move "X" to pan-kahvalti else move space to pan-kahvalti end-if
          when 23
               move cb-0103-value to accept-0105-enabled button-0106-enabled
               display accept-0105 button-0106
               if cb-0103-value = 1 move "X" to pan-ogle else move space to pan-ogle end-if
          when 27
               move cb-0104-value to accept-0106-enabled button-0107-enabled
               display accept-0106 button-0107
               if cb-0104-value = 1 move "X" to pan-aksam else move space to pan-aksam end-if
          when 31
               move cb-0105-value to accept-0107-enabled button-0108-enabled
               display accept-0107 button-0108
               if cb-0105-value = 1 move "X" to pan-icecek else move space to pan-icecek end-if
          when 35
               move cb-0106-value to accept-0108-enabled button-0109-enabled
               display accept-0108 button-0109
               if cb-0106-value = 1 move "X" to pan-extra else move space to pan-extra end-if
          when 35
               move cb-0106-value to accept-0108-enabled button-0109-enabled
               display accept-0108 button-0109
               if cb-0106-value = 1 move "X" to pan-extra else move space to pan-extra end-if
          when 61
               if cb-0107-value = 1 
                  move "X" to pan-kahvalti-giris 
               else 
                  move space to pan-kahvalti-giris 
               end-if
          when 52
               if cb-0108-value = 1 
                  move "X" to pan-kahvalti-kalis
               else 
                  move space to pan-kahvalti-kalis 
               end-if
          when 53
               if cb-0109-value = 1 
                  move "X" to pan-kahvalti-cikis
               else 
                  move space to pan-kahvalti-cikis
               end-if
          when 54
               if cb-0110-value = 1 
                  move "X" to pan-oglen-giris 
               else 
                  move space to pan-oglen-giris 
               end-if
          when 55
               if cb-0111-value = 1 
                  move "X" to pan-oglen-kalis
               else 
                  move space to pan-oglen-kalis 
               end-if
          when 56
               if cb-0112-value = 1 
                  move "X" to pan-oglen-cikis
               else 
                  move space to pan-oglen-cikis
               end-if
          when 57
               if cb-0113-value = 1 
                  move "X" to pan-aksam-giris 
               else 
                  move space to pan-aksam-giris 
               end-if
          when 58
               if cb-0114-value = 1 
                  move "X" to pan-aksam-kalis
               else 
                  move space to pan-aksam-kalis 
               end-if
          when 59
               if cb-0115-value = 1 
                  move "X" to pan-aksam-cikis
               else 
                  move space to pan-aksam-cikis
               end-if
     end-evaluate.
*
 accept-0103-Aft-Procedure.
     open input depkod
     move oda-dep to depkod-anah
     read depkod no lock invalid
          move all "*" to depkod-adi
          move 4 to accept-control
          move 11 to control-id
          display omitted beep
          close depkod
          exit paragraph
     end-read
     modify label-0103, title = depkod-adi
     if depkod-ba not = "B"
        move 4 to accept-control
        move 11 to control-id
        close depkod
        display omitted beep
        initialize mesaj-link
        move 5 to mesaj-no
        perform mesaj-ver
        exit paragraph
     end-if.
     close depkod.
*
 accept-0104-Aft-Procedure.
     open input depkod
     move kahvalti-dep to depkod-anah
     read depkod no lock invalid
          move all "*" to depkod-adi
          move 4 to accept-control
          move 15 to control-id
          display omitted beep
          close depkod
          exit paragraph
     end-read
     modify label-0104, title = depkod-adi
     if depkod-ba not = "B"
        move 4 to accept-control
        move 15 to control-id
        close depkod
        display omitted beep
        initialize mesaj-link
        move 5 to mesaj-no
        perform mesaj-ver
        exit paragraph
     end-if.
     close depkod.
*
 accept-0105-Aft-Procedure.
     open input depkod
     move ogle-dep to depkod-anah
     read depkod no lock invalid
          move all "*" to depkod-adi
          move 4 to accept-control
          move 24 to control-id
          display omitted beep
          close depkod
          exit paragraph
     end-read
     modify label-0105, title = depkod-adi
     if depkod-ba not = "B"
        move 4 to accept-control
        move 24 to control-id
        close depkod
        display omitted beep
        initialize mesaj-link
        move 5 to mesaj-no
        perform mesaj-ver
        exit paragraph
     end-if.
     close depkod.
     .
*
 accept-0106-Aft-Procedure.
     open input depkod
     move aksam-dep to depkod-anah
     read depkod no lock invalid
          move all "*" to depkod-adi
          move 4 to accept-control
          move 28 to control-id
          display omitted beep
          close depkod
          exit paragraph
     end-read
     modify label-0106, title = depkod-adi
     if depkod-ba not = "B"
        move 4 to accept-control
        move 28 to control-id
        close depkod
        display omitted beep
        initialize mesaj-link
        move 5 to mesaj-no
        perform mesaj-ver
        exit paragraph
     end-if.
     close depkod.
     .
*
 accept-0107-Aft-Procedure.
     open input depkod
     move icecek-dep to depkod-anah
     read depkod no lock invalid
          move all "*" to depkod-adi
          move 4 to accept-control
          move 32 to control-id
          display omitted beep
          close depkod
          exit paragraph
     end-read
     modify label-0107, title = depkod-adi
     if depkod-ba not = "B"
        move 4 to accept-control
        move 32 to control-id

        close depkod
        display omitted beep
        initialize mesaj-link
        move 5 to mesaj-no
        perform mesaj-ver
        exit paragraph
     end-if.
     close depkod.
     .
*
 accept-0108-Aft-Procedure.
     open input depkod
     move extra-dep to depkod-anah
     read depkod no lock invalid
          move all "*" to depkod-adi
          move 4 to accept-control
          move 36 to control-id
          display omitted beep
          close depkod
          exit paragraph
     end-read
     modify label-0108, title = depkod-adi
     if depkod-ba not = "B"
        move 4 to accept-control
        move 36 to control-id
        close depkod
        display omitted beep
        initialize mesaj-link
        move 5 to mesaj-no
        perform mesaj-ver
        exit paragraph
     end-if.
     close depkod.

 listbox-yukle.
     modify alkol-combo,
            reset-list = 1
            mass-update = 1
     modify alkol-combo,
            item-to-add("0-Alkolsuz","1-Az Alkollu","2-Orta Alkollu","3-Cok Alkollu")
     modify alkol-combo, 
            mass-update = 0
     modify form1-lb-1,
            reset-list  = 1
            mass-update = 1
     open input kodlar02
     initialize kodlar02-rec
     move "A" to kodlar02-tipi
     start kodlar02 key not < kodlar02-anah invalid
           continue
     not invalid
     move zeroes to fs-kodlar02
     perform with test after until fs-kodlar02 = "10"
          read kodlar02 next no lock end move "10" to fs-kodlar02
          not at end
              if kodlar02-tipi = "A"
               initialize form1-lb-1-value
               move kodlar02-kodu to lb-1-col-1
               move kodlar02-adi  to lb-1-col-2
               modify form1-lb-1,
                      item-to-add(form1-lb-1-value)
              else 
               move "10" to fs-kodlar02
              end-if
          end-read
     end-perform
     end-start
     close kodlar02.
     initialize kodlar02-rec
     modify form1-lb-1,
            mass-update = 0
            selection-index = 1
            thumb-position = 1.
     .
*/-----------------------------\*  
*/---------DIL AYARLA----------\*    
*/-----------------------------\*    
     perform dil-ayarla-proc.
*/-----------------------------\*         
*
 listbox-eventlar.
     evaluate event-type
          when cmd-dblclick
               inquire form1-lb-1,value in form1-lb-1-value
               move lb-1-col-1 to kodlar02-kodu
               perform accept-0101-Aft-Procedure
               move 4 to accept-control
               move 8 to control-id
               exit paragraph
          when ntf-selchange
          when cmd-goto
               inquire form1-lb-1,value in form1-lb-1-value
               move lb-1-col-1 to kodlar02-kodu
               display accept-0101,
               perform accept-0101-Aft-Procedure
     end-evaluate.
     .
 listbox-yer-bul.
     initialize durum tekrar
     perform varying i from 1 by 1 until (durum = "E" or "H")
             initialize ekodlar02-kodu
             modify form1-lb-1,
                    query-index = i
             inquire form1-lb-1,
                    item-value in ekodlar02-kodu
             if ekodlar02-kodu <> spaces
                if ekodlar02-kodu = tekrar
                   move "E" to durum
                   exit perform
                else
                   move ekodlar02-kodu to tekrar
                end-if
             end-if
             if ekodlar02-kodu = spaces
                move "H" to durum
                initialize i 
                exit perform
             else
                if ekodlar02-kodu = kodlar02-kodu
                   move "E" to durum
                   exit perform
                end-if
             end-if
    end-perform.

     
     .
*
 breakdown-form-cagir.
    initialize link-hepsi
    move high-values to gelen-break
    move kodlar02-kodu of kodlar02 to  gelen-break(7:2) 
    call "/asya/ytl/obj/otel/break.asy" using link-hepsi
         on exception perform callerr-proc
         not on exception
    cancel "/asya/ytl/obj/otel/break.asy" 
    end-call
    initialize link-hepsi 
     .

 
